{"ast":null,"code":"import React,{Component}from'react';import Footer from'../Footer/Footer';import NewTaskForm from'../New-Task-Form/New-Task-Form';import TaskList from'../Task-List/Task-List';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default class App extends Component{constructor(){super(...arguments);this.idItem=10;this.state={Data:[this.craeteDataItem('text')],filterKey:[{id:1,type:\"All\",selected:true},{id:2,type:\"Active\",selected:false},{id:3,type:\"Completed\",selected:false}]};this.addDataItem=text=>{const newDataItem=this.craeteDataItem(text);this.setState(_ref=>{let{Data}=_ref;const newData=[...Data,newDataItem];return{Data:newData};});};this.onFillterChainge=select=>{this.setState(_ref2=>{let{filterKey}=_ref2;const olditemFilterKey=this.state.filterKey.filter(el=>el.id>=0);let idx=olditemFilterKey.findIndex(el=>el.selected===true);olditemFilterKey[idx].selected=false;idx=olditemFilterKey.findIndex(el=>el.type===select);olditemFilterKey[idx].selected=true;return{filterKey:olditemFilterKey};});};this.onDestroy=id=>{this.setState(_ref3=>{let{Data}=_ref3;const idx=Data.findIndex(el=>el.id===id);const newArrayData=[...Data.slice(0,idx),...Data.slice(idx+1)];return{Data:newArrayData};});};this.onDoneClick=id=>{this.setState(_ref4=>{let{Data}=_ref4;const idx=Data.findIndex(el=>el.id===id);const oldIdData=Data[idx];const newIdData={...oldIdData,done:!oldIdData.done};const newArrayData=[...Data.slice(0,idx),newIdData,...Data.slice(idx+1)];return{Data:newArrayData};});};this.onClear=()=>{this.setState(_ref5=>{let{Data}=_ref5;return{Data:[]};});};this.filterArray=()=>{const id=this.state.filterKey.findIndex(el=>el.selected);const filterKeySelect=this.state.filterKey[id].type;let dataFilter;if(filterKeySelect===\"All\"){dataFilter=this.state.Data;}if(filterKeySelect===\"Active\"){dataFilter=this.state.Data.filter(el=>el.done===false);}if(filterKeySelect===\"Completed\"){dataFilter=this.state.Data.filter(el=>el.done);};return dataFilter;};}craeteDataItem(label){return{id:this.idItem++,description:label,created:new Date(),done:false,edit:\"\"};}render(){const{filterKey}=this.state;const countDoItem=this.state.Data.filter(el=>el.done).length;const toDoCounts=this.state.Data.length-countDoItem;let dataFilter=this.filterArray();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"section\",{class:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{addDataItem:text=>this.addDataItem(text)}),/*#__PURE__*/_jsxs(\"section\",{class:\"main\",children:[/*#__PURE__*/_jsx(TaskList,{Tasks:dataFilter,onDestroy:id=>this.onDestroy(id),onDoneClick:id=>this.onDoneClick(id)}),/*#__PURE__*/_jsx(Footer,{toDoCounts:toDoCounts,onSelectFilter:select=>this.onFillterChainge(select),filterKey:filterKey,onClear:()=>this.onClear()})]})]})});}};","map":{"version":3,"names":["React","Component","Footer","NewTaskForm","TaskList","jsx","_jsx","jsxs","_jsxs","App","constructor","arguments","idItem","state","Data","craeteDataItem","filterKey","id","type","selected","addDataItem","text","newDataItem","setState","_ref","newData","onFillterChainge","select","_ref2","olditemFilterKey","filter","el","idx","findIndex","onDestroy","_ref3","newArrayData","slice","onDoneClick","_ref4","oldIdData","newIdData","done","onClear","_ref5","filterArray","filterKeySelect","dataFilter","label","description","created","Date","edit","render","countDoItem","length","toDoCounts","children","class","Tasks","onSelectFilter"],"sources":["D:/git/react/work2/todos/src/components/App/App.jsx"],"sourcesContent":["import React,{Component} from 'react';\r\nimport Footer from '../Footer/Footer';\r\nimport NewTaskForm from '../New-Task-Form/New-Task-Form';\r\nimport TaskList from '../Task-List/Task-List';\r\n\r\nimport './App.css'\r\n\r\n\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n  idItem = 10;\r\n   \r\n\r\n  state  = {\r\n         Data:[\r\n          this.craeteDataItem('text')\r\n        ],\r\n         filterKey: [{id: 1, type: \"All\", selected: true},\r\n                      {id: 2,type: \"Active\", selected: false},\r\n                      {id: 3,type: \"Completed\", selected: false},\r\n         ]\r\n         };\r\n\r\n\r\n  \r\ncraeteDataItem(label){\r\n        return {\r\n            id: this.idItem ++,  \r\n            description : label,\r\n            created: new Date(), \r\n            done: false,\r\n            edit: \"\"\r\n        };\r\n      };\r\n      \r\n\r\naddDataItem = (text) => {\r\n\r\n       const newDataItem =  this.craeteDataItem(text);\r\n         this.setState(({Data}) =>  {\r\n          const newData = [...Data,newDataItem];\r\n\r\n       return {\r\n        Data : newData\r\n       \r\n           };\r\n        });\r\n      };\r\n\r\n\r\n\r\nonFillterChainge = (select)  => {\r\n    this.setState (({filterKey}) => {\r\n    const olditemFilterKey= this.state.filterKey.filter((el) => el.id >= 0)\r\n    let idx = olditemFilterKey.findIndex((el) => el.selected === true)\r\n    olditemFilterKey[idx].selected = false;\r\n    idx = olditemFilterKey.findIndex((el) => el.type === select)\r\n    olditemFilterKey[idx].selected = true;\r\n    \r\n    return {\r\n        filterKey : olditemFilterKey\r\n    };\r\n    });\r\n    };\r\n   \r\n\r\nonDestroy = (id) => { \r\n   this.setState (({Data}) => {\r\n    const idx = Data.findIndex((el) => el.id === id) \r\n    const newArrayData = [\r\n    ...Data.slice(0,idx),\r\n    ...Data.slice(idx + 1)\r\n      ]\r\n   \r\nreturn {\r\n    Data : newArrayData\r\n};\r\n});\r\n};\r\n\r\n\r\nonDoneClick = (id) => {\r\n    this.setState (({Data}) => {\r\n        const idx = Data.findIndex((el) => el.id === id) ;\r\n  const oldIdData = Data[idx];\r\n  const newIdData = {...oldIdData,done : ! oldIdData.done}\r\n  const newArrayData = [\r\n    ...Data.slice(0,idx),\r\n    newIdData,\r\n    ...Data.slice(idx + 1)\r\n      ];\r\n       \r\n      return {\r\n        Data : newArrayData\r\n      };\r\n    });\r\n   };\r\n\r\n\r\n\r\nonClear =() => {\r\n\r\n   this.setState (({Data}) => {\r\n\r\n        return{\r\n            Data : []\r\n        }\r\n    })\r\n\r\n     };\r\n\r\n\r\n\r\nfilterArray = () => {\r\n     const id = this.state.filterKey.findIndex((el) => el.selected)\r\n     const filterKeySelect = this.state.filterKey[id].type\r\n     let dataFilter;\r\n\r\n  if (filterKeySelect === \"All\") {  \r\n    dataFilter = this.state.Data ;\r\n } \r\n if (filterKeySelect === \"Active\") {\r\n    dataFilter = this.state.Data.filter((el) => el.done === false) ;\r\n    \r\n } \r\n  if (filterKeySelect === \"Completed\"){\r\n    dataFilter = this.state.Data.filter((el) => el.done);\r\n };\r\n\r\n   return dataFilter ;\r\n}\r\n\r\n\r\n\r\nrender() {\r\n  const  {filterKey} = this.state; \r\n  const countDoItem = this.state.Data.filter((el) => el.done).length;\r\n  const toDoCounts = this.state.Data.length  - countDoItem;\r\n  let dataFilter = this.filterArray();\r\n \r\nreturn(\r\n<div>\r\n<section class=\"todoapp\"> \r\n<NewTaskForm  addDataItem = {(text) => this.addDataItem(text)}  />\r\n<section class=\"main\">\r\n<TaskList Tasks = {dataFilter}\r\nonDestroy = {(id) => this.onDestroy(id)}\r\nonDoneClick = {(id) => this.onDoneClick(id)}\r\n/>\r\n<Footer toDoCounts = {toDoCounts}\r\nonSelectFilter = {(select) => this.onFillterChainge(select)} \r\nfilterKey = {filterKey}\r\nonClear = {() => this.onClear()} />\r\n</section>\r\n</section>\r\n</div>\r\n);\r\n};\r\n};\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}