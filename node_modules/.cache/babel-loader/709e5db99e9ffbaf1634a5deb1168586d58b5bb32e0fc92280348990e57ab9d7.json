{"ast":null,"code":"import React,{Component}from'react';import Footer from'../Footer/Footer';import NewTaskForm from'../New-Task-Form/New-Task-Form';import TaskList from'../Task-List/Task-List';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default class App extends Component{constructor(){var _this;super(...arguments);_this=this;this.idItem=10;this.state={Data:[this.craeteDataItem('text')],filterKey:[{id:1,type:'All',selected:true},{id:2,type:'Active',selected:false},{id:3,type:'Completed',selected:false}]};this.addDataItem=text=>{const newDataItem=this.craeteDataItem(text);this.setState(_ref=>{let{Data}=_ref;const newData=[...Data,newDataItem];return{Data:newData};});};this.onFillterChainge=select=>{this.setState(()=>{const olditemFilterKey=this.state.filterKey.filter(el=>el.id>=0);let idx=olditemFilterKey.findIndex(el=>el.selected===true);olditemFilterKey[idx].selected=false;idx=olditemFilterKey.findIndex(el=>el.type===select);olditemFilterKey[idx].selected=true;return{filterKey:olditemFilterKey};});};this.onDestroy=id=>{this.setState(_ref2=>{let{Data}=_ref2;const idx=Data.findIndex(el=>el.id===id);const newArrayData=[...Data.slice(0,idx),...Data.slice(idx+1)];return{Data:newArrayData};});};this.onDoneClick=id=>{this.setState(_ref3=>{let{Data}=_ref3;const idx=Data.findIndex(el=>el.id===id);const oldIdData=Data[idx];const newIdData={...oldIdData,done:!oldIdData.done};const newArrayData=[...Data.slice(0,idx),newIdData,...Data.slice(idx+1)];return{Data:newArrayData};});};this.onClear=()=>{this.setState(()=>{const dataFilter=this.state.Data.filter(el=>el.done===false);return{Data:dataFilter};});};this.filterArray=()=>{const id=this.state.filterKey.findIndex(el=>el.selected);const filterKeySelect=this.state.filterKey[id].type;let dataFilter;if(filterKeySelect==='All'){dataFilter=this.state.Data;}if(filterKeySelect==='Active'){dataFilter=this.state.Data.filter(el=>el.done===false);}if(filterKeySelect==='Completed'){dataFilter=this.state.Data.filter(el=>el.done);}return dataFilter;};this.onEdit=function(id){let typeEdit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let text=arguments.length>2?arguments[2]:undefined;_this.setState(_ref4=>{let{Data}=_ref4;const idx=Data.findIndex(el=>el.id===id);const oldIdData=Data[idx];let label;typeEdit?label=oldIdData.description:label=text;if(oldIdData.done){typeEdit=false;}const newIdData={...oldIdData,edit:typeEdit,description:label};const newArrayData=[...Data.slice(0,idx),newIdData,...Data.slice(idx+1)];return{Data:newArrayData};});};this.editDataItem=(text,id)=>{let typeEdit=false;this.onEdit(id,typeEdit,text);};}craeteDataItem(label){return{id:this.idItem++,description:label,created:new Date(),done:false,edit:false};}render(){const{filterKey}=this.state;let dataFilter=this.filterArray();const countDoItem=this.state.Data.filter(el=>el.done).length;const toDoCounts=this.state.Data.length-countDoItem;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{addDataItem:text=>this.addDataItem(text)}),/*#__PURE__*/_jsxs(\"section\",{className:\"main\",children:[/*#__PURE__*/_jsx(TaskList,{Tasks:dataFilter,onDestroy:id=>this.onDestroy(id),onDoneClick:id=>this.onDoneClick(id),onEdit:id=>this.onEdit(id),editDataItem:(text,id)=>this.editDataItem(text,id)}),/*#__PURE__*/_jsx(Footer,{toDoCounts:toDoCounts,onSelectFilter:select=>this.onFillterChainge(select),filterKey:filterKey,onClear:()=>this.onClear()})]})]})});}}","map":{"version":3,"names":["React","Component","Footer","NewTaskForm","TaskList","jsx","_jsx","jsxs","_jsxs","App","constructor","_this","arguments","this","idItem","state","Data","craeteDataItem","filterKey","id","type","selected","addDataItem","text","newDataItem","setState","_ref","newData","onFillterChainge","select","olditemFilterKey","filter","el","idx","findIndex","onDestroy","_ref2","newArrayData","slice","onDoneClick","_ref3","oldIdData","newIdData","done","onClear","dataFilter","filterArray","filterKeySelect","onEdit","typeEdit","length","undefined","_ref4","label","description","edit","editDataItem","created","Date","render","countDoItem","toDoCounts","children","className","Tasks","onSelectFilter"],"sources":["D:/git/react/work2/todos/src/components/App/App.jsx"],"sourcesContent":["import React, { Component } from 'react';\n\nimport Footer from '../Footer/Footer';\nimport NewTaskForm from '../New-Task-Form/New-Task-Form';\nimport TaskList from '../Task-List/Task-List';\nimport './App.css';\n\nexport default class App extends Component {\n  idItem = 10;\n\n  state = {\n    Data: [this.craeteDataItem('text')],\n    filterKey: [\n      { id: 1, type: 'All', selected: true },\n      { id: 2, type: 'Active', selected: false },\n      { id: 3, type: 'Completed', selected: false },\n    ],\n  };\n\n  craeteDataItem(label) {\n    return {\n      id: this.idItem++,\n      description: label,\n      created: new Date(),\n      done: false,\n      edit: false,\n    };\n  }\n\n  addDataItem = (text) => {\n    const newDataItem = this.craeteDataItem(text);\n    this.setState(({ Data }) => {\n      const newData = [...Data, newDataItem];\n\n      return {\n        Data: newData,\n      };\n    });\n  };\n\n  onFillterChainge = (select) => {\n    this.setState(() => {\n      const olditemFilterKey = this.state.filterKey.filter((el) => el.id >= 0);\n      let idx = olditemFilterKey.findIndex((el) => el.selected === true);\n      olditemFilterKey[idx].selected = false;\n      idx = olditemFilterKey.findIndex((el) => el.type === select);\n      olditemFilterKey[idx].selected = true;\n\n      return {\n        filterKey: olditemFilterKey,\n      };\n    });\n  };\n\n  onDestroy = (id) => {\n    this.setState(({ Data }) => {\n      const idx = Data.findIndex((el) => el.id === id);\n      const newArrayData = [...Data.slice(0, idx), ...Data.slice(idx + 1)];\n\n      return {\n        Data: newArrayData,\n      };\n    });\n  };\n\n  onDoneClick = (id) => {\n    this.setState(({ Data }) => {\n      const idx = Data.findIndex((el) => el.id === id);\n      const oldIdData = Data[idx];\n      const newIdData = { ...oldIdData, done: !oldIdData.done };\n      const newArrayData = [...Data.slice(0, idx), newIdData, ...Data.slice(idx + 1)];\n\n      return {\n        Data: newArrayData,\n      };\n    });\n  };\n\n  onClear = () => {\n    this.setState(() => {\n      const dataFilter = this.state.Data.filter((el) => el.done === false);\n\n      return {\n        Data: dataFilter,\n      };\n    });\n  };\n\n  filterArray = () => {\n    const id = this.state.filterKey.findIndex((el) => el.selected);\n    const filterKeySelect = this.state.filterKey[id].type;\n    let dataFilter;\n\n    if (filterKeySelect === 'All') {\n      dataFilter = this.state.Data;\n    }\n    if (filterKeySelect === 'Active') {\n      dataFilter = this.state.Data.filter((el) => el.done === false);\n    }\n    if (filterKeySelect === 'Completed') {\n      dataFilter = this.state.Data.filter((el) => el.done);\n    }\n\n    return dataFilter;\n  };\n\n  onEdit = (id, typeEdit = true, text) => {\n    this.setState(({ Data }) => {\n      const idx = Data.findIndex((el) => el.id === id);\n      const oldIdData = Data[idx];\n      let label;\n      typeEdit ? (label = oldIdData.description) : (label = text);\n      if (oldIdData.done) {\n        typeEdit = false;\n      }\n\n      const newIdData = { ...oldIdData, edit: typeEdit, description: label };\n      const newArrayData = [...Data.slice(0, idx), newIdData, ...Data.slice(idx + 1)];\n\n      return {\n        Data: newArrayData,\n      };\n    });\n  };\n\n  editDataItem = (text, id) => {\n    let typeEdit = false;\n    this.onEdit(id, typeEdit, text);\n  };\n\n  render() {\n    const { filterKey } = this.state;\n    let dataFilter = this.filterArray();\n    const countDoItem = this.state.Data.filter((el) => el.done).length;\n    const toDoCounts = this.state.Data.length - countDoItem;\n\n    return (\n      <div>\n        <section className=\"todoapp\">\n          <NewTaskForm addDataItem={(text) => this.addDataItem(text)} />\n          <section className=\"main\">\n            <TaskList\n              Tasks={dataFilter}\n              onDestroy={(id) => this.onDestroy(id)}\n              onDoneClick={(id) => this.onDoneClick(id)}\n              onEdit={(id) => this.onEdit(id)}\n              editDataItem={(text, id) => this.editDataItem(text, id)}\n            />\n\n            <Footer\n              toDoCounts={toDoCounts}\n              onSelectFilter={(select) => this.onFillterChainge(select)}\n              filterKey={filterKey}\n              onClear={() => this.onClear()}\n            />\n          </section>\n        </section>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}